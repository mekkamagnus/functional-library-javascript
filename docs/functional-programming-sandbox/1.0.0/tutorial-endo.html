<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Tutorial: endo</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Tutorial: endo</h1>

    <section>

<header>
    

    <h2>endo</h2>
</header>

<article>
    <h1>Overview</h1>
<p>Endo can be used as a form of composition by concating functions. In this concatination functions results are fed into the concatted function.</p>
<p>The value is fed into Endo's run function providing opportunities for lazy operations.</p>
<p>I'm purposely being extremely explicit because I make to make sure that I understand each step of these functional implementations.</p>
<h2>Examples</h2>
<h3>Example 1</h3>
<pre class="prettyprint source lang-javascript"><code>
// Endo monoid declaration
// Endo :: (a -> a) -> Endo a
const Endo = run => ({
	run,
	// concat :: Endo a -> Endo a -> Endo a
	concat: other =>
	Endo(x => run(other.run(x)))
})

// Endo.empty :: () -> Endo a
Endo.empty = () => Endo(x => x)

// List :: [a] -> List a
const List = list => ({
	list,

	// map :: (a -> b) -> List a -> List b
	map: fn => List(list.map(fn)),

	// fold :: ((b, a) -> b, b) -> List a -> List b
	fold: (fn, initialValue) => List(list.reduce(fn, initialValue)),

	// foldMap :: (a -> b) -> b -> List a -> b
	foldMap: (monoid, empty) => {
	return empty != null
		? list.reduce((acc, x, i) => acc.concat(monoid(x, i)), empty)
		: list.map(monoid).reduce((acc, x) => acc.concat(x))      },

	// extract :: () -> [a]
	extract: () => list,
})

// Utility functions
// compose :: (b -> c) -> (a -> b) -> a -> c
const compose = f => g => x => f(g(x))

// curry :: ((a, b) -> c) -> a -> b -> c
const curry = f => a => b => f(a, b)

// toUpper :: String -> String
const toUpper = str => str.toUpperCase() 

// exclaim :: String -> String
const exclaim = str => `${str}!!`

// to OrgHeader :: String -> String
const toOrgHeader = str => `* ${str}`

// toOrgTagList :: [String] -> String
const toOrgTagList = xs => List(xs)
  .map((tag, index) => !index ? `:${tag}:` : `${tag}:` )
  .fold((accumalator,tag, index) => accumalator.concat(tag) ,'')
  .extract()

// addTagsToHeader :: [String] -> String -> String
const addTagsToHeader = 
  curry((tagList,str) => `${str} ${tagList}`)

console.log(addTagsToHeader(toOrgTagList(tags))(&quot;A Header&quot;))

const result = List([addTagsToHeader(toOrgTagList(tags)),toOrgHeader, toUpper, exclaim]).foldMap(Endo, Endo.empty('')).run('hello')
//> A Header :javascript:completed:moved:

console.log(result)
//> HELLO!! :javascript:completed:moved:
</code></pre>
</article>

</section>

</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Tutorials</h3><ul><li><a href="tutorial-endo.html">endo</a></li><li><a href="tutorial-fn.html">fn</a></li><li><a href="tutorial-list.html">List Tutorial</a></li><li><a href="tutorial-map.html">map</a></li><li><a href="tutorial-set.html">set</a></li><li><a href="tutorial-state.html">state</a></li><li><a href="tutorial-string.html">string</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Endo">Endo</a></li><li><a href="global.html#Fn">Fn</a></li><li><a href="global.html#List">List</a></li><li><a href="global.html#Map">Map</a></li><li><a href="global.html#Set">Set</a></li><li><a href="global.html#State">State</a></li><li><a href="global.html#String">String</a></li><li><a href="global.html#concat">concat</a></li><li><a href="global.html#extract">extract</a></li><li><a href="global.html#fold">fold</a></li><li><a href="global.html#foldMap">foldMap</a></li><li><a href="global.html#head">head</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#value">value</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sun Oct 08 2023 16:21:55 GMT+0800 (China Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>